#! /usr/bin/env ruby

require_relative '../lib/showoff'

case command = ARGV.shift
when '-v'
  require 'showoff/version'
  puts SHOWOFF_VERSION
when 'create'
  dirname = ARGV.shift
  ShowOffUtils.create(dirname)
  puts "done. add slides, modify #{ShowOffUtils.presentation_config_file} and then run 'showoff serve' in #{dirname}/ dir to see slideshow"
when 'serve'
  host = ARGV.shift || '127.0.0.1'
  port = (ARGV.shift || 9090).to_i
  url  = "http://#{host}:#{port}"
  puts "View URL: #{url}"
  puts "Presenter URL: #{url}/presenter"
  ShowOff.run!  :host      => host,
                :port      => port,
                :pres_file => 'showoff.json',
                :pres_dir  => nil,
                :verbose   => false,
                :bind      => host
when 'static'
  ShowOff.do_static(nil)
else
  puts "usage: showoff (-v|create $dirname|serve $host $port|static)"
end
